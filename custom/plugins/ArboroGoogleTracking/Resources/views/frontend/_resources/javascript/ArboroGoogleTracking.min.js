if(document.getElementById("arboroTracking")){function gaOptout(){var e="ga-disable-"+document.getElementById("arboroTracking").getAttribute("data-id");if(-1===document.cookie.indexOf(e+"=true")){var t=new Date,r=t.getTime()+31536e8;t.setTime(r),document.cookie=e+"=true; expires="+t.toGMTString()+"; path=/"}window[e]=!0}function gaOptin(){var e="ga-disable-"+document.getElementById("arboroTracking").getAttribute("data-id");document.cookie.indexOf(e+"=true")>-1&&(document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"),window[e]=!1}function getSwCookiePreference(e){var t,r,a,o=$.getCookie("cookiePreferences"),i=!1;return o?(a=JSON.parse(o),t=Object.keys(a.groups),$.each(t,function(t,o){a.groups.hasOwnProperty(o)&&(r=Object.keys(a.groups[o].cookies),$.each(r,function(t,r){a.groups[o].cookies.hasOwnProperty(r)&&r===e&&(i=a.groups[o].cookies[r].active)}))}),i):i}function checkTrackingAllowed(){var e=document.getElementById("arboroTracking").getAttribute("data-cctype");return"agt"===e?-1===document.cookie.indexOf("cookieconsent_status=dismiss")?(deleteGoogleCookies(),!1):(gaOptin(),activateTracking(),!0):"swcct"!==e||($.subscribe("plugin/swCookieConsentManager/onBuildCookiePreferences",function(e,t,r){!0===r.groups.statistics.cookies._ga.active?(gaOptin(),activateTracking()):deleteGoogleCookies()}),!1===getSwCookiePreference("_ga")?(deleteGoogleCookies(),!1):(gaOptin(),activateTracking(),!0))}function activateTracking(){$('noscript[data-tag="arboro-google-tracking"]').each(function(e,t){t.replaceWith(createScriptTag(t))})}function createScriptTag(e){var t,r,a=document.createElement("script"),o=e.attributes,i=o.length;for(e=e.cloneNode(!0);e.firstChild;)a.appendChild(e.firstChild);for(t in e)try{!(r=e[t])||"outerHTML"===t||"string"!=typeof r&&"number"!=typeof r||(a[t]=e[t])}catch(e){}for(t=0;t<i;t++)a.setAttribute(o[t].nodeName,o[t].nodeValue);return e.style.cssText&&(a.style.cssText=e.style.cssText),a.removeAttribute("tabindex"),a}function deleteGoogleCookies(){var e=window.location.hostname.split("."),t="."+e[e.length-2]+"."+e[e.length-1];["_ga","_gid","_gaexp","_gat","_gaq"].forEach(function(e){-1!==document.cookie.indexOf(e)&&(document.cookie=e+"=; Max-Age=-99999999; domain="+t+"; path=/")})}var disableStr="ga-disable-"+document.getElementById("arboroTracking").getAttribute("data-id");document.cookie.indexOf(disableStr+"=true")>-1&&(window[disableStr]=!0);var arboroTracking={tracking:null,layerName:null,init:function(){this.tracking=document.getElementById("arboroTracking").getAttribute("data-type"),this.layerName=document.getElementById("arboroTracking").getAttribute("data-name")},optOut:function(){var e="ga-disable-"+document.getElementById("arboroTracking").getAttribute("data-id");if(-1===document.cookie.indexOf(e+"=true")){var t=new Date,r=t.getTime()+31536e6;t.setTime(r),document.cookie=e+"=true; expires="+t.toGMTString()+"; path=/"}window[e]=!0},gaOptout:function(){var e="ga-disable-"+document.getElementById("arboroTracking").getAttribute("data-id");if(-1===document.cookie.indexOf(e+"=true")){var t=new Date,r=t.getTime()+31536e8;t.setTime(r),document.cookie=e+"=true; expires="+t.toGMTString()+"; path=/"}window[e]=!0},optIn:function(){var e="ga-disable-"+document.getElementById("arboroTracking").getAttribute("data-id");document.cookie.indexOf(e+"=true")>-1&&(document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"),window[e]=!1}};jQuery(document).ready(function(e){e.subscribe&&!0===checkTrackingAllowed()&&(activateTracking(),e.subscribe("plugin/swAjaxVariant/onRequestData",function(){arboroTracking.init(),"UA"===arboroTracking.tracking&&ga("send","pageview")}),e.subscribe("plugin/swAddArticle/onBeforeAddArticle",function(t,r,a){var o=window.controller.ajax_add_article.replace("checkout/ajaxAddArticleCart","ArboroGoogleTracking").replace("checkout/addArticle","ArboroGoogleTracking"),i="http:";-1!==o.indexOf("https://")&&(i="https:"),window.location.protocol!==i&&(o=o.replace(i+"//",window.location.protocol+"//"));var c=document.getElementById("arboroTracking").getAttribute("data-type"),n=document.getElementById("arboroTracking").getAttribute("data-name"),d=document.getElementById("arboroTracking").getAttribute("data-brand");e.ajax({data:a,dataType:"json",url:o,success:function(e){e.ordernumber&&("UA"===c&&("1"===d?ga("ec:addProduct",{id:e.ordernumber,name:e.articleName,brand:e.supplierName,price:e.price_numeric,quantity:e.quantity}):ga("ec:addProduct",{id:e.ordernumber,name:e.articleName,price:e.price_numeric,quantity:e.quantity}),ga("ec:setAction","add"),ga("send","event","UX","click","add to cart")),"GTM"===c&&("1"===d?window[n].push({event:"addToCart",ecommerce:{currencyCode:e.currencyCode,add:{products:[{name:e.articleName,id:e.ordernumber,price:e.price_numeric,brand:e.supplierName,quantity:e.quantity}]}}}):window[n].push({event:"addToCart",ecommerce:{currencyCode:e.currencyCode,add:{products:[{name:e.articleName,id:e.ordernumber,price:e.price_numeric,quantity:e.quantity}]}}})))}})}),e.subscribe("plugin/swCollapseCart/onRemoveArticle",function(t,r,a){var o,i=window.controller.ajax_cart.replace("checkout/ajaxCart","ArboroGoogleTracking/remove/id/"),c="http:";if(-1!==i.indexOf("https://")&&(c="https:"),window.location.protocol!==c&&(i=i.replace(c+"//",window.location.protocol+"//")),a.currentTarget.href)o=a.currentTarget.href.substring(a.currentTarget.href.lastIndexOf("/")+1);else{var n=e(a.currentTarget).closest("form");o=n.attr("action").substring(n.attr("action").lastIndexOf("/")+1)}var d=document.getElementById("arboroTracking").getAttribute("data-type"),u=document.getElementById("arboroTracking").getAttribute("data-name"),g=document.getElementById("arboroTracking").getAttribute("data-brand");e.ajax({dataType:"json",url:i+o,success:function(e){e.ordernumber&&("UA"===d&&("1"===g?ga("ec:addProduct",{name:e.articleName,id:e.ordernumber,price:e.price_numeric,brand:e.supplierName,quantity:e.quantity}):ga("ec:addProduct",{name:e.articleName,id:e.ordernumber,price:e.price_numeric,quantity:e.quantity}),ga("ec:setAction","remove"),ga("send","event","UX","click","remove from cart")),"GTM"===d&&("1"===g?window[u].push({event:"removeFromCart",ecommerce:{remove:{products:[{name:e.articleName,id:e.ordernumber,price:e.price_numeric,brand:e.supplierName,quantity:e.quantity}]}}}):window[u].push({event:"removeFromCart",ecommerce:{remove:{products:[{name:e.articleName,id:e.ordernumber,price:e.price_numeric,quantity:e.quantity}]}}})))}})})),e("a",".product--box").click(function(){var t=window.controller.ajax_add_article.replace("checkout/ajaxAddArticleCart","ArboroGoogleTracking/click").replace("checkout/addArticle","ArboroGoogleTracking/click"),r="http:";-1!==t.indexOf("https://")&&(r="https:"),window.location.protocol!==r&&(t=t.replace(r+"//",window.location.protocol+"//"));var a=document.getElementById("arboroTracking").getAttribute("data-type"),o=document.getElementById("arboroTracking").getAttribute("data-name"),i=document.getElementById("arboroTracking").getAttribute("data-brand"),c="Category";e(this).closest(".product--box").hasClass("box--slider")&&(c="Recommendation"),e.ajax({data:{ordernumber:e(this).closest(".product--box").attr("data-ordernumber"),category:e(this).closest(".product--box").attr("data-category-id")},dataType:"json",url:t,success:function(t){if(t.ordernumber){if("UA"===a){"1"===i?ga("ec:addProduct",{id:t.ordernumber,name:t.articleName,category:t.category,brand:t.supplierName,price:t.price_numeric,position:1}):ga("ec:addProduct",{id:t.ordernumber,name:t.articleName,category:t.category,price:t.price_numeric,position:1});var r="";e("body").hasClass("is--ctl-listing")&&(r="Category"),e("body").hasClass("is--ctl-search")&&(r="Search Results"),"Category"!==c&&(r=c),ga("ec:setAction","click",{list:r}),ga("send","event","UX","click","product detail click")}"GTM"===a&&("1"===i?window[o].push({event:"click",ecommerce:{currencyCode:t.currencyCode,add:{products:[{name:t.articleName,id:t.ordernumber,category:t.category,price:t.price_numeric,brand:t.supplierName,position:1}]}}}):window[o].push({event:"click",ecommerce:{currencyCode:t.currencyCode,add:{products:[{name:t.articleName,id:t.ordernumber,category:t.category,price:t.price_numeric,position:1}]}}}))}}})})})}